<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>ToDoリスト</title>
</head>

<body>
    <h1>ToDoアプリケーション</h1>
    <tr>
        <h2>
            <td th:text="${name}"></td>
            <td>さんのToDoリスト</td>
        </h2>
            <td><a th:href=@{/member/login}>[logout]</a></td>
    </tr>
    <tr>
        <h2>ToDo</h2>
        <table border="1">
            <tr>
                <th>Seq</th>
                <th>Task</th>
                <th>created at</th>
            </tr>
            <tr th:each="t: ${todo_list}">
                <td>[[${t.seq}]]</td>
                <td>[[${t.title}]]</td>
                <td>[[${t.createdAt}]]</td>
                <td><a th:href=@{/member/{mid}/done/{seq}(mid=${mid},seq=${t.seq})}>完了</a></td>
            </tr>
        </table>

        <h2>Done</h2>
        <table border="1">
            <tr>
                <th>Seq</th>
                <th>Task</th>
                <th>created at</th>
                <th>done at</th>
            </tr>
            <tr th:each="t: ${done_list}">
                <td>[[${t.seq}]]</td>
                <td>[[${t.title}]]</td>
                <td>[[${t.createdAt}]]</td>
                <td>[[${t.doneAt}]]</td>
            </tr>
        </table>

        <h2>Registration</h2>
        <form role="form" th:action="@{/member/{mid}/check(mid=${mid})}" th:object="${ToDoForm}" method="post">
            <table>
                <tr>
                    <td><label>task: </label></td>
                    <td><input type="text" required th:field="*{title}" /></td>
                    <td><p><input type="submit" value="確認する" /></p></td>
                </tr>
            </table>
        </form>
    </tr>


</body>

</html>